<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form using Mutall Principles</title>
    <link rel="stylesheet" href="registration.css"/>
    <script type="module">
        import {authoriser} from "./registration.js";
        //
        //After the page loads,create an instance of the auth class and show 
        document.addEventListener("DOMContentLoaded", () => {
             //
             //Create an instance of the auth class
             const iauth=new authoriser();
             //
             //Allow the iauth variable to be accessed outside this script
             window.iauth=iauth;
        });
        
    </script>
</head>
<body>
    <form id="auth"  oninput="iauth.clear_errors()">
        <fieldset id="login">
            <label class="radio">
                <input type="radio" name="choice" value="login"/>
                Login
            </label>
            <label>
                <span>User Name</span>
                <input name="name" type="text" />
                <span class="error"></span>
            </label>
            <label >
                <span>Password</span>
                <input name="password"  type="password" />
                <span class="error"></span>
            </label>
        </fieldset>
        <fieldset id="sign_up">
            <label class="radio">
                <input type="radio" name="choice" value="sign_up"/>
                Sign up
            </label>
            <label id="sign_up_name">
                <span>User Name</span>
                <input  type="text"/>
                <span class="error"></span>
            </label>
             <label id="sign_up_email">
                <span>Email</span>
                <input  type="email"/>
                <span  class="error"></span>
            </label>
            <label  id="sign_up_password">
                <span>Password</span>
                <input type="password" />
                <span class="error"></span>
            </label>
            <label id="sign_up_confirm">
                <span>Confirm Password</span>
                <input  type="password" />
                <span class="error"></span>
            </label>
        </fieldset>
        <fieldset id="forgot">
            <label class="radio">
                <input type="radio" name="choice" value="forgot"/>
                Forgot Password
            </label>
            <label id="forgot_name">
            <span>User Name</span>
                <input  type="text" />
                <span class="error"></span>
            </label>
            <label id="forgot_email">
                <span>Email</span>
                <input  type="email" />
                <span class="error"></span>
            </label>
        </fieldset>
        <fieldset id="change">
            <label class="radio">
                <input type="radio" name="choice" value="change"/>
                Change Password
            </label>
            <label id="change_name">
            <span>User Name</span>
                <input  type="text" />
                <span class="error"></span>
            </label>
            <label id="change_old_password">
                <span>Old Password</span>
                <input  type="password" />
                <span class="error"></span>
            </label>
            <label  id="change_new_password">
                <span>New Password</span>
                <input type="password" />
                <span class="error"></span>
            </label>
            <label id="change_confirm_password">
                <span>Confirm Password</span>
                <input type="password" />
                <span class="error"></span>
            </label>
        </fieldset>
        <button type="submit" 
            onclick="iauth.submit(event)">Submit
            </button>
    </form>
</body>
</html>